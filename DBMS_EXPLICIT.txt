CREATE TABLE students (
    student_id NUMBER PRIMARY KEY,
    student_name VARCHAR2(50),
    department VARCHAR2(50)
);
INSERT INTO students VALUES (1, 'Rahul', 'Computer Science'), (2, 'Sneha', 'Mechanical'), (3, 'Amit', 'Computer Science'), (4, 'Riya', 'Civil'), (5, 'Karan', 'Computer Science');

DELIMITER $$
CREATE PROCEDURE show_cs_students()
BEGIN
    DECLARE v_id INT;
    DECLARE v_name VARCHAR(50);
    DECLARE finished INT DEFAULT 0;
    DECLARE cs_cursor CURSOR FOR
        SELECT student_id, student_name
        FROM students
        WHERE department = 'Computer Science';
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET finished = 1;
    OPEN cs_cursor;
    read_loop: LOOP
        FETCH cs_cursor INTO v_id, v_name;
        IF finished = 1 THEN
            LEAVE read_loop;
        END IF;
        SELECT CONCAT('ID: ', v_id, ' | Name: ', v_name) AS Student;
    END LOOP;
   CLOSE cs_cursor;
END$$
DELIMITER ;
CALL show_cs_students();
